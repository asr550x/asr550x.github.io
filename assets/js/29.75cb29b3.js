(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{63:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"git-ant-vue开发规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-ant-vue开发规范","aria-hidden":"true"}},[t._v("#")]),t._v(" Git ant-vue开发规范")]),t._v(" "),a("ul",[a("li",[a("h4",{attrs:{id:"模板规范"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模板规范","aria-hidden":"true"}},[t._v("#")]),t._v(" 模板规范")])]),t._v(" "),a("li",[t._v("表格采用左对齐，（除特殊情况）")]),t._v(" "),a("li",[t._v("列表页日期表头需要排序，在columns中添加sorter:true即可")]),t._v(" "),a("li",[t._v("对话框宽度默认600px")]),t._v(" "),a("li",[t._v("通知默认采用右上角通知提醒")]),t._v(" "),a("li",[t._v("删除，发布，激活等，默认采用弹出式提醒提交框")]),t._v(" "),a("li",[t._v("状态：\n"),a("ul",[a("li",[t._v("未运行：#d9d9d9")]),t._v(" "),a("li",[t._v("运行中：如下")]),t._v(" "),a("li",[t._v("启动中：#faad14")]),t._v(" "),a("li",[t._v("关闭中：#f5222d")])])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  运行中颜色需要修改成绿色\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"status"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-badge "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"processing"')]),t._v(" /"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  .status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .ant-badge-status-processing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    background-color: "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#52c41a !important;")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  .status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .ant-badge-status-processing::after"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    border: 1px solid "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#52c41a !important")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("已发布：如上")]),t._v(" "),a("li",[t._v("未发布：#d9d9d9")]),t._v(" "),a("li",[t._v("开发中：#faad14")]),t._v(" "),a("li",[t._v("删除函数统一写进公共函数中")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("    deleteFunction "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val, fn, fn1, "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("arg")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      const "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this\n      this."),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$confirm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        title: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'确认删除'")]),t._v(",\n        okText: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'确认'")]),t._v(",\n        okType: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'danger'")]),t._v(",\n        buttonProps: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          props: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" disabled: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n        cancelText: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'取消'")]),t._v(",\n        "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("onOk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          console.log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OK'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("let")]),t._v(" params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),t._v(".selectedRowKeys.length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" ? "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),t._v(".selectedRowKeys "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" val.realId ? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("val.realId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("val.id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".then"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$notification")]),t._v(".success"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                message: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'删除成功'")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),t._v(".clickUser "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),t._v(".selectedRowKeys "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n              fn1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arg ? arg "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" null"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".catch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$this")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$notification")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                message: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'错误'")]),t._v(",\n                description: "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v("err.response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" {}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" {}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" '请求出现错误，请稍后再试'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                duration"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n              }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          }\n        }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        onCancel "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" {\n          console.log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("'Cancel'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        }\n      }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    }\n\n    调用方法：  deleteFunction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("删除文件id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 删除接口"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 删除成功后回调用函数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 回调函数参数"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("可以为空"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),t._v("\n    该方法只适用于列表删除\n")])])]),a("ul",[a("li",[t._v("按钮文字默认无间隙，实现方法：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  src/App.vue\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-config-provider :autoInsertSpaceInButton"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"app"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("router-view/"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/a-config-provider"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("ul",[a("li",[t._v("批量删除按钮默认为红色")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-button "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"danger"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/a-button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("ul",[a("li",[t._v("有多个按钮时，只选择一个高亮，一般放在最右边")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/a-button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-button "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"margin-left:8px"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/a-button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-button "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"primiry"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("style")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"margin-left:8px"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/a-button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("ul",[a("li",[t._v("同个元素之间距离空隙为8px，不同元素之间为16px")]),t._v(" "),a("li",[t._v("输入框默认添加placeholder提示")]),t._v(" "),a("li",[t._v("日期选择框和单选框在弹出框时，会出现偏移bug，解决办法：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  getPopupContainer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("trigger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" trigger.parentNode\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  getCalendarContainer "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("trigger"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" trigger.parentNode\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-select :getPopupContainer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getPopupContainer"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/a-select"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-date-picker :getCalendarContainer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getCalendarContainer"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/a-date-picker"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("ul",[a("li",[t._v("对话框在提交成功或失败后，都默认关闭对话框,且清空数据")]),t._v(" "),a("li",[t._v("对话框中默认一行一个输入框，当内容过多时，可调成一行显示两个输入框")]),t._v(" "),a("li",[t._v("对话框只要有关闭行为，默认清空输入内容")]),t._v(" "),a("li",[t._v("列表页，详情页都默认添加loading")]),t._v(" "),a("li",[t._v("mounted时需要用到参数的，默认都将参数写进url（通过修改路由的方式），例：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/describe/:id'")]),t._v(",\n    name: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Describe'")]),t._v(",\n    component: Describe\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  组件中获取id方式： this."),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$route")]),t._v(".params.id\n")])])]),a("ul",[a("li",[t._v("同一父菜单下的子菜单若不显示在菜单列表中，父菜单默认保持点击状态，设置方法：")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  文件路径： src/components/Menu/menu.js， updateMenu函数\n")])])]),a("ul",[a("li",[t._v("ant-design-vue 输入框双向绑定数据时，只有数据为undefined时，placeholder才会显示")]),t._v(" "),a("li",[t._v("树形控件在选择时，应该把‘半选择的父级’（子项没有全部被选中）也加入到选择数组中")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a-tree\n    checkable\n    :treeData"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"menuTree"')]),t._v("\n    v-model"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"menuIds"')]),t._v("\n    @check"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"menuCheck"')]),t._v("\n  /"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    unEditedMenuIds: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    menuIds: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    halfCheckedMenuIds: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n    editedMenuIds: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n  methods: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    menuCheck "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val, event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        this.halfCheckedMenuIds "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event.halfCheckedKeys\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    //从服务器中拉取menuIds（选中的项）数据时，要去掉‘半选择的父级‘（子项没有全部被选中）\n      获取menuTree数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".then"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        //menuTree数据\n        this.menuTree "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res.data\n        获取已选中项数据"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".then"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            //menuIds数据（包含选中和半选中）\n            this.unEditedMenuIds "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res.data.menuIds\n            //去除半选中项目\n            this.editedMenuIds "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            this.getAllChildrenMenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.menuTree"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            //必须把id改为字符串\n            this.menuIds "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.editedMenuIds.map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" item.toString"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".catch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          this."),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$notification")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            message: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'错误'")]),t._v(",\n            description: "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v("err.response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" {}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" {}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" '请求出现错误，请稍后再试'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            duration"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n          }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".catch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" {\n        this.loadingTabs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" false\n        this.$notification['error']"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("{\n          message"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" '错误'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          description"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v("err.response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" {}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" {}"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" '请求出现错误，请稍后再试'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          duration"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n      }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    }"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    getAllChildrenMenu "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" {\n      item.forEach"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" {\n        if "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item.children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" {\n          this.getAllChildrenMenu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item.children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        } else {\n          if "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.unEditedMenuIds.includes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parseInt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item.key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            this.editedMenuIds.push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item.key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  //在提交数据时，应把menuIds和halfCheckedMenuIds合并后，再提交给服务器\n")])])])])},[],!1,null,null,null);s.default=e.exports}}]);