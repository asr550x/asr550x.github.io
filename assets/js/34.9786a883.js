(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{68:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"python-编码规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#python-编码规范","aria-hidden":"true"}},[t._v("#")]),t._v(" Python 编码规范")]),t._v(" "),s("p",[t._v("Python 是一个动态开发语言，在开发使用时比较灵活，甚至可以随心所欲的写，但随着项目代码行数的增加，没有良好的代码组织可能会造成项目后期维护变得比较困难。所以，我们应该在写代码前，就要做好充足的 “表面功夫”，严格遵守一个合理的编码规范，在项目的整个生命周期中都能很愉快的编写代码和重构。")]),t._v(" "),s("h2",{attrs:{id:"本文适用范围和原则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本文适用范围和原则","aria-hidden":"true"}},[t._v("#")]),t._v(" 本文适用范围和原则")]),t._v(" "),s("ul",[s("li",[t._v("不搞盲目信仰，奉承实用主义")]),t._v(" "),s("li",[t._v("Python 2.7 - Python 3.x 没有特殊情形，一般使用 Python 3.6+ 进行项目开发")]),t._v(" "),s("li",[t._v("以 PEP8 为蓝本，结合现状做出适当调整，例如行宽由 80 改为 120")])]),t._v(" "),s("h2",{attrs:{id:"强制使用检查工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强制使用检查工具","aria-hidden":"true"}},[t._v("#")]),t._v(" 强制使用检查工具")]),t._v(" "),s("ul",[s("li",[t._v("pylint")]),t._v(" "),s("li",[t._v("flake8")]),t._v(" "),s("li",[t._v("pytest")])]),t._v(" "),s("p",[t._v("需要花一定的时间了解以上工具")]),t._v(" "),s("h2",{attrs:{id:"单元测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单元测试","aria-hidden":"true"}},[t._v("#")]),t._v(" 单元测试")]),t._v(" "),s("ul",[s("li",[t._v("多写单元测试")])]),t._v(" "),s("h2",{attrs:{id:"文件编码和编辑器设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#文件编码和编辑器设置","aria-hidden":"true"}},[t._v("#")]),t._v(" 文件编码和编辑器设置")]),t._v(" "),s("ul",[s("li",[t._v("使用 4 空格缩进，禁用 TAB 符号")]),t._v(" "),s("li",[t._v("源码文件使用 UTF-8 无 BOM 编码格式")]),t._v(" "),s("li",[t._v("总是使用 Unix \\n 风格换行符")])]),t._v(" "),s("p",[t._v("需要了解 editorconfig（我们定义一套适合目前自己情况的 editorconfig）")]),t._v(" "),s("h2",{attrs:{id:"命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命名","aria-hidden":"true"}},[t._v("#")]),t._v(" 命名")]),t._v(" "),s("ul",[s("li",[t._v("class，function 等命名严格遵循 PEP8")]),t._v(" "),s("li",[t._v("全局变量（凡是全局的，都是常量），应该始终使用下划线+大写")]),t._v(" "),s("li",[t._v("定义枚举，始终加 Enum 后缀")]),t._v(" "),s("li",[t._v("定义异常始终加 Exception 后缀")]),t._v(" "),s("li",[t._v("定义mixin，始终加 Mixin 后缀")])]),t._v(" "),s("h2",{attrs:{id:"强化-private-的概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强化-private-的概念","aria-hidden":"true"}},[t._v("#")]),t._v(" 强化 private 的概念")]),t._v(" "),s("ol",[s("li",[t._v("实例属性，一般定义成 private 的")]),t._v(" "),s("li",[t._v("class，对外提供的方法越少越好")]),t._v(" "),s("li",[t._v("module，对外提供的接口越少越好")]),t._v(" "),s("li",[t._v("package，对外提供的 module 越少越好")])]),t._v(" "),s("p",[t._v("所有东西，一开始就要定义成私有的，等到确实需要开放访问了，才开放出去。")]),t._v(" "),s("h2",{attrs:{id:"关注公开-api-的复杂性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关注公开-api-的复杂性","aria-hidden":"true"}},[t._v("#")]),t._v(" 关注公开 API 的复杂性")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" p2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("interface")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("**")]),t._v("kwargs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n")])])]),s("p",[t._v("尽量不要使用 "),s("code",[t._v("**kwargs")]),t._v("，除非使用的场景非常明确，一旦使用同时需要辅以很明确的文档说明")]),t._v(" "),s("h2",{attrs:{id:"以-package-去设计命名空间，而不是基于-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以-package-去设计命名空间，而不是基于-module","aria-hidden":"true"}},[t._v("#")]),t._v(" 以 package 去设计命名空间，而不是基于 module")]),t._v(" "),s("p",[t._v("使用 package 去组织代码")]),t._v(" "),s("h2",{attrs:{id:"了解如下文件和代码的用途"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#了解如下文件和代码的用途","aria-hidden":"true"}},[t._v("#")]),t._v(" 了解如下文件和代码的用途")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("__init__.py")])]),t._v(" "),s("li",[s("code",[t._v("__main__.py")])]),t._v(" "),s("li",[s("code",[t._v("if __name__ == '__main__':")])]),t._v(" "),s("li",[s("code",[t._v("sys.path sys.modules")])])]),t._v(" "),s("h2",{attrs:{id:"合理设计项目目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合理设计项目目录结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 合理设计项目目录结构")]),t._v(" "),s("p",[t._v("除了使用框架所推荐的项目结构外(如flake，Django)，都使用以下项目目录结构")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n├── README"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n├── awesome_project\n│   ├── __init__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n│   ├── __main__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n│   ├── constants\n│   │   └── __init__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n│   ├── core\n│   │   └── __init__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n│   ├── lib\n│   │   └── __init__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n│   └── utils\n│       └── __init__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n├── docs\n│   └── README"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n├── examples\n│   └── ex1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n└── tests\n    └── test1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("py\n\n")])])]),s("p",[s("a",{attrs:{href:"https://39.107.32.33/huitong/awesome-project",target:"_blank",rel:"noopener noreferrer"}},[t._v("推荐项目结构"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("（完）")])])},[],!1,null,null,null);a.default=e.exports}}]);